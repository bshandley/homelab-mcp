services:
  homelab-mcp:
    build: .
    container_name: homelab-mcp
    restart: unless-stopped

    # All environment variables are loaded from .env file
    # See .env.example for available configuration options
    env_file:
      - .env

    # Docker socket (read-only by default, change to :rw for CAPABILITY_LEVEL=4)
    # Dockge stacks directory (read-only by default, change to :rw for CAPABILITY_LEVEL=4)
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - /opt/stacks:/opt/stacks:ro

    # Expose the port defined in .env (defaults to 3005)
    ports:
      - "${PORT:-3005}:${PORT:-3005}"
networks: {}
